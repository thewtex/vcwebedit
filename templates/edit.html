{#

  edit.html
  ~~~~~~~~~

  Template for the editting pages created with the vcwebedit
  extension.

#}
{% extends "layout.html" %}
{%- block extrahead %}
    {# A larger default height for the editor. #}
    <style type="text/css">.CodeMirror-scroll { height: 500px; }</style>
    {{ super() }}
{%- endblock %}
{% block body %}
          <div id="editor">
           {{ pathto('_sources/' + editsourcename, true)|e }}
          </div>

          <script type="text/javascript">
            vcw_editFile("{{ pathto('_sources/' + editsourcename, true)|e }}");
          </script>
{% endblock %}

{%- macro editsidebar() %}
      {%- if render_sidebar %}
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
          {%- block editoroptions %}
          <h3>{{ _('Editor options') }}</h3>
          <form><table>
            <tr align="left">
              <td>Keymap:</td>
              <td>
                <select id="keymapSelection" onchange="vcw_selectKeymap()">
                  <option>default</option>
                  <option>emacs</option>
                  <option>vim</option>
                </select>
              </td>
            </tr>
          </table></form>
          {%- endblock %}
          {%- block returnfromedit %}
            <h3>{{ _('Return') }}</h3>
            <ul class="this-page-menu">
              <li><a href="{{ pathto( editpagename )|e }}"
                     rel="nofollow">{{ _('Return to the original page') }}</a></li>
            </ul>
          {%- endblock %}
        </div>
      </div>
      {%- endif %}
{%- endmacro %}
{%- block sidebar2 -%}
  {{ editsidebar() }}
{%- endblock -%}

